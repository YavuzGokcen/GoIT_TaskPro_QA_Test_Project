{"info":{"_postman_id":"a84db439-9c2a-4890-bb16-986c9cfb8fcd","name":"Users","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"Register new user","event":[{"listen":"test","script":{"id":"c2e34511-14d0-413f-b856-44b79437bfd9","exec":["pm.test(\"New user registered - 201\", function () {\r","    pm.response.to.have.status(201);\r","});\r",""],"type":"text/javascript","packages":{}}}],"id":"20e6ce2e-cec4-4f03-996d-2267879fa1a8","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \"name\": \"YavuzTest3\",\r\n  \"email\": \"yavuztest3@mail.com\",\r\n  \"password\": \"\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"https://task-pro-qa.b.goit.study/user/register","protocol":"https","host":["task-pro-qa","b","goit","study"],"path":["user","register"]}},"response":[]},{"name":"Login user","event":[{"listen":"test","script":{"id":"bccdcbbc-fabc-4ce2-86cc-9c01eecb3633","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","let jsonData = pm.response.json();\r","pm.environment.set(\"access_token\", jsonData.access_token);\r","pm.environment.set(\"refresh_token\", jsonData.refresh_token);\r","\r","if (!pm.environment.get(\"access_token\") || pm.environment.get(\"token_expiry\") < Date.now()) {\r","    pm.sendRequest({\r","        url: 'https://api.example.com/auth/login',\r","        method: 'POST',\r","        header: {\r","            'Content-Type': 'application/json'\r","        },\r","        body: {\r","            mode: 'raw',\r","            raw: JSON.stringify({\r","                username: 'testuser',\r","                password: 'testpassword'\r","            })\r","        }\r","    }, function (err, res) {\r","        if (err) {\r","            console.log(err);\r","        } else {\r","            let jsonData = res.json();\r","            pm.environment.set(\"access_token\", jsonData.access_token);\r","            pm.environment.set(\"token_expiry\", Date.now() + jsonData.expires_in * 1000);\r","        }\r","    });\r","}\r",""],"type":"text/javascript","packages":{}}}],"id":"18feacdc-db90-4630-8aee-16ae34a0d67d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{access_token}}","type":"string"}]},"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n  \"email\": \"yvz.gokcen@gmail.com\",\r\n  \"password\": \"scrum123\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"https://task-pro-qa.b.goit.study/user/login","protocol":"https","host":["task-pro-qa","b","goit","study"],"path":["user","login"]}},"response":[]},{"name":"Refresh user's token","event":[{"listen":"test","script":{"id":"0a34acb4-b9fb-4f0a-b337-b7cc114fd617","exec":["pm.test(\"Refresh Token Test\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r",""],"type":"text/javascript","packages":{}}}],"id":"d6e6b051-0764-4eb4-ba35-5b7eb1ce513b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{refresh_token}}","type":"string"}]},"method":"POST","header":[{"key":"key","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NDQwOWZjODFjYzJjNzhjZDY5Y2IzMiIsImlhdCI6MTczMzEyODg4OCwiZXhwIjoxNzMzMTI5NzI4fQ.drsidG1IulqkSy5YHzTsxZMv0TRFJnX6d7WRyuE7rYI","type":"text","disabled":true},{"key":"token","value":"{{token}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NDQwOWZjODFjYzJjNzhjZDY5Y2IzMiIsImlhdCI6MTczMzIyMTI5NSwiZXhwIjoxNzM0NDMwODk1fQ.iXhkMQZlenIxn_gWgFRexgM6FMvQwmFCYJF5XPmWMXw\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"https://task-pro-qa.b.goit.study/user/refresh","protocol":"https","host":["task-pro-qa","b","goit","study"],"path":["user","refresh"]}},"response":[]},{"name":"Check user","event":[{"listen":"test","script":{"id":"95659c8a-0d31-4c30-a3c7-9aaa69340ba3","exec":["pm.test(\"Check User Test\", function () {\r","    pm.response.to.have.status(200);\r","});"],"type":"text/javascript","packages":{}}}],"id":"d9fcac34-9254-41a4-81ce-2444a0dbe33f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NDQwOWZjODFjYzJjNzhjZDY5Y2IzMiIsImlhdCI6MTczMzIyMTgzOSwiZXhwIjoxNzMzMjIyNjc5fQ.WuBeUjDQpfOg7VqREXhL_bgJmWtxJSAAxWqub2xz4ho","type":"string"}]},"method":"GET","header":[{"key":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NDQwOWZjODFjYzJjNzhjZDY5Y2IzMiIsImlhdCI6MTczMzIyMTI5NSwiZXhwIjoxNzM0NDMwODk1fQ.iXhkMQZlenIxn_gWgFRexgM6FMvQwmFCYJF5XPmWMXw","type":"text","disabled":true}],"url":{"raw":"https://task-pro-qa.b.goit.study/user/me","protocol":"https","host":["task-pro-qa","b","goit","study"],"path":["user","me"]}},"response":[]},{"name":"Update User's Theme","event":[{"listen":"test","script":{"id":"2ef4111c-881b-40d6-851e-81d2abd95445","exec":["pm.test(\"Missing Required Field Test\", function () {\r","    pm.response.to.have.status(400);\r","});"],"type":"text/javascript","packages":{}}}],"id":"71850256-913a-4de4-b003-6b9eaebe8ed6","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NDQwOWZjODFjYzJjNzhjZDY5Y2IzMiIsImlhdCI6MTczMzIyMTgzOSwiZXhwIjoxNzMzMjIyNjc5fQ.WuBeUjDQpfOg7VqREXhL_bgJmWtxJSAAxWqub2xz4ho","type":"string"}]},"method":"PATCH","header":[],"body":{"mode":"raw","raw":"{\r\n  \"theme\": \"darkest\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"https://task-pro-qa.b.goit.study/user/theme","protocol":"https","host":["task-pro-qa","b","goit","study"],"path":["user","theme"]}},"response":[]},{"name":"Update user","event":[{"listen":"test","script":{"id":"0aa635b0-1203-4e8d-83e8-06a5b88822fe","exec":["pm.test(\"Email in use conflict Test\", function () {\r","    pm.response.to.have.status(409);\r","});"],"type":"text/javascript","packages":{}}}],"id":"ef9a16a3-f23d-4334-9e4a-a3cdf5afd5f1","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NDQwOWZjODFjYzJjNzhjZDY5Y2IzMiIsImlhdCI6MTczMzIyMzA1MCwiZXhwIjoxNzMzMjIzODkwfQ.bAwJhcpy-eivbM4_5HU8gbLHYjAWWA47LgA1RmabTe0","type":"string"}]},"method":"PUT","header":[],"body":{"mode":"raw","raw":"{\r\n  \"avatar\": \"string\",\r\n  \"name\": \"Yavuz 2\",\r\n  \"email\": \"duka@mail.com\",\r\n  \"password\": \"scrum123\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"https://task-pro-qa.b.goit.study/user/update","protocol":"https","host":["task-pro-qa","b","goit","study"],"path":["user","update"]}},"response":[]},{"name":"User's Logout","event":[{"listen":"test","script":{"id":"5c3f8a42-e17b-4ca7-807a-c8a7257659ab","exec":["pm.test(\"Authorization Test\", function () {\r","    pm.response.to.have.status(401);\r","});"],"type":"text/javascript","packages":{}}}],"id":"a858d548-1939-4b10-aa20-e0f671d19fc4","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NDQwOWZjODFjYzJjNzhjZDY5Y2IzMiIsImlhdCI6MTczMzIyMzkzOSwiZXhwIjoxNzMzMjI0Nzc5fQ.FykY9InM09YfZTfxBAVuu7Yedjgxqz9_mSkR6LNThYw","type":"string"}]},"method":"POST","header":[],"url":{"raw":"https://task-pro-qa.b.goit.study/user/logout","protocol":"https","host":["task-pro-qa","b","goit","study"],"path":["user","logout"]}},"response":[]}],"auth":{"type":"bearer","bearer":[{"key":"token","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NDQwOWZjODFjYzJjNzhjZDY5Y2IzMiIsImlhdCI6MTczMzEyOTQ3NCwiZXhwIjoxNzMzMTMwMzE0fQ.ymV7kvgwZgEmIV5SA_FeAkWYkkrUKv777pL-m2CzWUM","type":"string"}]},"event":[{"listen":"prerequest","script":{"id":"0899a3c7-0a3c-41c1-af6e-69731cf25e90","type":"text/javascript","packages":{},"exec":[""]}},{"listen":"test","script":{"id":"0cb5ef92-0770-46a0-9999-50e6df36b9c4","type":"text/javascript","packages":{},"exec":[""]}}]}